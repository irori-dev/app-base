# スマートコミット

修正差分を分析して適切なコミットメッセージを生成し、git commitを実行します。

---
allowed-tools: Bash(git status:*), Bash(git add:*), Bash(git diff:*), Bash(git commit:*)
description: 修正差分を分析して適切なコミットメッセージを生成してコミット
---

## 実行手順

### 1. 現在の状態確認
まず現在のgitの状態を確認します：
!`git status`

### 2. 変更内容の詳細分析
ステージングエリアの変更と未ステージの変更を確認：
- ステージ済みの変更: !`git diff --cached`
- 未ステージの変更: !`git diff`

### 3. 変更内容の解析とコミットメッセージ生成

上記の差分情報を基に以下の要素を分析してください：

**変更の種類を判定:**
- `feat:` - 新機能の追加
- `fix:` - バグ修正
- `docs:` - ドキュメントの変更
- `style:` - コードフォーマット、セミコロンなどのスタイル変更
- `refactor:` - リファクタリング（機能変更なし）
- `perf:` - パフォーマンス改善
- `test:` - テストの追加・修正
- `chore:` - ビルドプロセス、補助ツールの変更
- `ci:` - CI設定の変更

**コミットメッセージの構成:**
```
<type>(<scope>): <subject>

<body>

<footer>
```

- `type`: 上記の変更種類
- `scope`: 影響範囲（ファイル名、モジュール名など）
- `subject`: 50文字以内の簡潔な説明
- `body`: より詳細な説明（必要に応じて）
- `footer`: Breaking changesやIssue番号（必要に応じて）

### 4. ステージング
未ステージの変更がある場合、適切にステージングしてください：
- 全てステージング: `git add .`
- 個別ファイル: `git add <ファイル名>`

### 5. コミット実行
生成したコミットメッセージでコミットを実行：
`git commit -m "<生成されたコミットメッセージ>"`

## 注意事項
- 大きな変更がある場合は、複数のコミットに分割することを提案してください
- Breaking changesがある場合は、フッターに明記してください
- 関連するIssue番号がある場合は適切に参照してください

## 使用例
```bash
# 基本的な使用
/project:smart-commit

# 特定のファイルのみをコミット対象にしたい場合は事前にステージング
git add src/components/Button.tsx
/project:smart-commit
```