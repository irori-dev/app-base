- content_for :title, '猫一覧'
- content_for :description, '猫一覧'
- content_for :image, 'https://anpanstyle.com/wp-content/uploads/2022/01/ogp.png'
- content_for :other_head do
  %meta{name: "robots", content: "noindex"}

.container.mx-auto.py-10
  = search_form_for @search, html: { data: {turbo_frame: 'cats-index', controller: "form", action: "input->form#submit"} } do |f|
    .grid.grid-cols-3.gap-4.items-end
      %div
        = f.label :name_cont, "名前", class: 'block text-sm font-medium text-gray-700'
        = f.search_field :name_cont, class: 'mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full border-gray-300 rounded-md'
      %div
        = f.label :age_eq, "年齢", class: 'block text-sm font-medium text-gray-700'
        = f.search_field :age_eq, class: 'mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full border-gray-300 rounded-md'
      .flex.gap-4
        = link_to "クリア", cats_path, class: 'block px-4 py-2 text-white bg-red-500 rounded-md hover:bg-red-600'
        = link_to "新規作成", new_cat_path, {class: 'block py-2 px-4 rounded-md text-white bg-indigo-500 hover:bg-indigo-600', data: { turbo_frame: 'modal' }}
    
  .py-4
    = turbo_frame_tag 'cats-index', data: { turbo_action: :advance } do
      .p-2.flex.bg-gray-100.border-b.border-gray-300
        %div{ class: 'w-1/6' }
          = sort_link @search, :id
        %div{ class: 'w-1/3' }
          = sort_link @search, :name
        %div{ class: 'w-1/3' }
          = sort_link @search, :age
        %div{ class: 'w-1/6' }
          Actions
      = turbo_frame_tag "cats-page-#{@cats.current_page}" do
        = render CatCard::Component.with_collection(@cats)
        = turbo_frame_tag "cats-page-#{@cats.next_page}", loading: :lazy, src: path_to_next_page(@cats)
